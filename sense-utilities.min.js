/**
 * enigma.js v2.0.0-0
 * Copyright (c) 2017 QlikTech International AB
 * This library is licensed under MIT - See the LICENSE file for full details
 */

!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.senseUtilities=n()}(this,function(){"use strict";function e(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function n(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}function t(e,t,o,u){return t=t||"&",o=o||"=",null===e&&(e=void 0),"object"==typeof e?r(a(e),function(u){var a=encodeURIComponent(n(u))+o;return i(e[u])?r(e[u],function(e){return a+encodeURIComponent(n(e))}).join(t):a+encodeURIComponent(n(e[u]))}).join(t):u?encodeURIComponent(n(u))+o+encodeURIComponent(n(e)):""}function r(e,n){if(e.map)return e.map(n);for(var t=[],r=0;r<e.length;r++)t.push(n(e[r],r));return t}function o(n,t,r,o){t=t||"&",r=r||"=";var u={};if("string"!=typeof n||0===n.length)return u;var a=/\+/g;n=n.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var f=n.length;c>0&&f>c&&(f=c);for(var s=0;s<f;++s){var p,l,d,y,m=n[s].replace(a,"%20"),v=m.indexOf(r);v>=0?(p=m.substr(0,v),l=m.substr(v+1)):(p=m,l=""),d=decodeURIComponent(p),y=decodeURIComponent(l),e(u,d)?i(u[d])?u[d].push(y):u[d]=[u[d],y]:u[d]=y}return u}function u(e){return e.replace(/(^[/]+)|([/]+$)/g,"")}var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var n=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n},c={encode:t,stringify:t,decode:o,parse:o},f=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();return function(){function e(){f(this,e)}return s(e,null,[{key:"configureDefaults",value:function(e){e.host||(e.host="localhost"),void 0===e.secure&&(e.secure=!0),e.appId||e.route||(e.route="app/engineData"),void 0===e.noData&&(e.noData=!1)}},{key:"buildUrl",value:function(n){e.configureDefaults(n);var t=n.secure,r=n.host,o=n.port,i=n.prefix,a=n.subpath,f=n.route,s=n.identity,p=n.urlParams,l=n.ttl,d=n.appId,y="";return y+=(t?"wss":"ws")+"://",y+=r||"localhost",o&&(y+=":"+o),i&&(y+="/"+u(i)),a&&(y+="/"+u(a)),f?y+="/"+u(f):d&&""!==d&&(y+="/app/"+encodeURIComponent(d)),s&&(y+="/identity/"+encodeURIComponent(s)),l&&(y+="/ttl/"+l),p&&(y+="?"+c.stringify(p)),y}}]),e}()});
//# sourceMappingURL=sense-utilities.min.js.map
